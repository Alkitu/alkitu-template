# Component Atom Template

Complete template for creating Atom components following Atomic Design methodology.

---

## File Structure

```
atoms/[component-name]/
├── [ComponentName].tsx           # Component implementation
├── [ComponentName].types.ts      # TypeScript types
├── [ComponentName].test.tsx      # Unit tests (generated by frontend-testing-expert)
├── [ComponentName].stories.tsx   # Storybook stories (generated by frontend-testing-expert)
└── index.ts                      # Barrel export
```

---

## Template: ComponentName.tsx

```typescript
'use client';

import React from 'react';
import { cn } from '@/lib/utils';
import type { ComponentNameProps } from './ComponentName.types';

/**
 * ComponentName - Atomic Design Atom
 *
 * [Brief description of what this component does]
 *
 * @example
 * ```tsx
 * <ComponentName variant="default" size="md">
 *   Content here
 * </ComponentName>
 * ```
 */
export const ComponentName = React.forwardRef<HTMLElement, ComponentNameProps>(
  (
    {
      // Destructure props with defaults
      variant = 'default',
      size = 'md',
      disabled = false,
      className = '',
      children,
      themeOverride,
      useSystemColors = true,
      ...props
    },
    ref,
  ) => {
    // Variant classes mapping
    const variantClasses = {
      default: 'bg-background text-foreground',
      primary: 'bg-primary text-primary-foreground',
      secondary: 'bg-secondary text-secondary-foreground',
      outline: 'border border-input bg-background',
      ghost: 'hover:bg-accent hover:text-accent-foreground',
    }[variant];

    // Size classes mapping
    const sizeClasses = {
      sm: 'h-8 px-2 text-sm',
      md: 'h-10 px-4',
      lg: 'h-12 px-6 text-lg',
    }[size];

    // Compose classes
    const classes = cn(
      // Base classes
      'inline-flex items-center justify-center',
      'transition-colors duration-200',
      'focus-visible:outline-none focus-visible:ring-2',
      'disabled:pointer-events-none disabled:opacity-50',

      // Variant and size
      variantClasses,
      sizeClasses,

      // User-provided classes
      className,
    );

    // Apply theme overrides if provided
    const style = themeOverride
      ? { ...themeOverride }
      : undefined;

    return (
      <element
        ref={ref}
        className={classes}
        style={style}
        disabled={disabled}
        data-use-system-colors={useSystemColors}
        {...props}
      >
        {children}
      </element>
    );
  },
);

ComponentName.displayName = 'ComponentName';

export default ComponentName;
```

---

## Template: ComponentName.types.ts

```typescript
import type { ReactNode, CSSProperties, HTMLAttributes } from 'react';

/**
 * Variant options for ComponentName
 */
export type ComponentVariant =
  | 'default'
  | 'primary'
  | 'secondary'
  | 'outline'
  | 'ghost';

/**
 * Size options for ComponentName
 */
export type ComponentSize = 'sm' | 'md' | 'lg';

/**
 * Props for ComponentName component
 */
export interface ComponentNameProps extends HTMLAttributes<HTMLElement> {
  /**
   * Visual variant of the component
   * @default 'default'
   */
  variant?: ComponentVariant;

  /**
   * Size of the component
   * @default 'md'
   */
  size?: ComponentSize;

  /**
   * Disabled state
   * @default false
   */
  disabled?: boolean;

  /**
   * Component content
   */
  children: ReactNode;

  /**
   * Custom className for additional styling
   */
  className?: string;

  /**
   * Theme override using CSS custom properties
   * Allows dynamic theming without CSS classes
   */
  themeOverride?: CSSProperties;

  /**
   * Use system color variables from theme
   * @default true
   */
  useSystemColors?: boolean;

  /**
   * Data test ID for testing
   */
  'data-testid'?: string;
}
```

---

## Template: index.ts

```typescript
export { ComponentName, default } from './ComponentName';
export type {
  ComponentNameProps,
  ComponentVariant,
  ComponentSize,
} from './ComponentName.types';
```

---

## Atom Component Checklist

Before creating an atom, ensure:

### ✅ Definition Validation
- [ ] Component is a **single, indivisible UI element**
- [ ] Component has **no business logic**
- [ ] Component is **highly reusable** across contexts
- [ ] Component represents a **basic building block**

### ✅ Props Design
- [ ] Has clear `variant` options (at least 2-3)
- [ ] Has clear `size` options (sm, md, lg)
- [ ] Supports `className` for extensibility
- [ ] Supports `themeOverride` for dynamic theming
- [ ] Uses `forwardRef` for DOM element access
- [ ] Has `disabled` state (if interactive)

### ✅ Styling
- [ ] Uses `cn()` utility for class composition
- [ ] Base classes defined
- [ ] Variant classes mapped
- [ ] Size classes mapped
- [ ] Transition/animation classes included
- [ ] Focus/hover states defined

### ✅ Accessibility
- [ ] Uses semantic HTML element
- [ ] Has proper `aria-*` attributes (if needed)
- [ ] Supports keyboard navigation (if interactive)
- [ ] Has visible focus indicators
- [ ] Color contrast meets WCAG AA standards

### ✅ TypeScript
- [ ] Types in separate `.types.ts` file
- [ ] All props documented with JSDoc
- [ ] Default values specified in docs
- [ ] Exports types from `index.ts`

### ✅ File Structure
- [ ] `ComponentName.tsx` created
- [ ] `ComponentName.types.ts` created
- [ ] `index.ts` barrel export created
- [ ] Files named in PascalCase
- [ ] Component has `displayName` set

---

## Common Atoms Examples

### 1. Button
- **Purpose**: Clickable action trigger
- **Variants**: primary, secondary, outline, ghost, destructive
- **Sizes**: sm, md, lg
- **Special Props**: loading, fullWidth, asChild

### 2. Input
- **Purpose**: Text input field
- **Variants**: default, error, success
- **Sizes**: sm, md, lg
- **Special Props**: type, placeholder, disabled, readOnly

### 3. Badge
- **Purpose**: Small status indicator
- **Variants**: default, primary, secondary, success, warning, error
- **Sizes**: sm, md
- **Special Props**: removable, onRemove

### 4. Icon
- **Purpose**: SVG icon wrapper
- **Variants**: default, primary, secondary, muted
- **Sizes**: xs, sm, md, lg, xl
- **Special Props**: name, spin, rotate

### 5. Typography
- **Purpose**: Text element with consistent styling
- **Variants**: h1, h2, h3, h4, h5, h6, p, caption, label
- **Sizes**: sm, md, lg, xl
- **Special Props**: as (polymorphic), color, weight

---

## Anti-Patterns

### ❌ DON'T: Add Business Logic
```typescript
// ComponentName.tsx - BAD
const ComponentName = () => {
  const { data } = useQuery(); // ❌ Data fetching
  const dispatch = useDispatch(); // ❌ Redux

  return <element onClick={() => dispatch(action())} />; // ❌ Business logic
};
```

### ❌ DON'T: Compose Multiple Atoms
```typescript
// ComponentName.tsx - BAD (This is a Molecule)
const ComponentName = () => (
  <div>
    <Icon />
    <Typography />
    <Button />
  </div>
);
```

### ❌ DON'T: Fetch Data
```typescript
// ComponentName.tsx - BAD
const ComponentName = () => {
  useEffect(() => {
    fetch('/api/data'); // ❌ Atoms don't fetch data
  }, []);
};
```

### ❌ DON'T: Use Complex State
```typescript
// ComponentName.tsx - BAD
const ComponentName = () => {
  const [state, setState] = useState({}); // ❌ Complex state management
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
};
```

---

## After Creating Component

Once you've created the atom:

1. **Run frontend-testing-expert agent** to generate tests
2. **Run frontend-testing-expert agent** to generate Storybook stories
3. **Add to barrel export** in `atoms/index.ts`
4. **Verify component** in Storybook (`npm run storybook`)
5. **Run tests** (`npm run test ComponentName.test.tsx`)
6. **Verify coverage** (`npm run test:coverage`)

---

## Related Documentation

- [Atomic Design Architecture](/docs/00-conventions/atomic-design-architecture.md)
- [Component Structure and Testing](/docs/00-conventions/component-structure-and-testing.md)
- [Frontend Testing Guide](/docs/05-testing/frontend-testing-guide.md)

---

**Last Updated**: 2025-01-09
